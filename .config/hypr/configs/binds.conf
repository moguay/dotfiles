# 'wev' for find key code
# https://rherault.dev/articles/hyprland-fr-layout

$launcher = $scripts/rofi/launcher
$app_launcher = $scripts/custom_app_launch
$clip_history = $scripts/rofi/clip_history
$move_by_rules = $scripts/move_by_rules
$hyprsome = $scripts/hyprsome
$hyprshot = $scripts/hyprshot
$scrPath = $scripts

$mainMod = SUPER
$altMod = SUPERALT
$shiftMod = SUPERSHIFT

# Mouse binds
bindm = SUPER, mouse:272, movewindow # Mouse move window
bindm = SUPER, mouse:273, resizewindow # Mouse resize window
bind = SUPER, mouse:274, exec, hyprctl dispatch togglefloating && hyprctl dispatch centerwindow 1 # Mouse toggle floating

# Basic keybinds
bind = SUPER, Q, killactive # Kill active window
bind = SUPERCTRL, R, exec, pkill -x waybar || sleep 0.1 && waybar # Restart waybar
# bind = SUPERCTRL, M, exit # crash wayland

# Window
bind = SUPER, A, exec, hyprctl dispatch togglefloating && hyprctl dispatch centerwindow 1 # Toggle floating
bind = SUPER, P, pseudo # Toggle pseudo window
bind = SUPER, F, fullscreen, 0 # Toggle fullscreen
bind = SUPER, Z, exec, pypr zoom # Toggle zoom

## Applications
bind = SUPER, W, exec, $app_launcher vivaldi # ( Web browser )
bind = SUPER, O, exec, $app_launcher obsidian # ( Writing way you think )
bind = SUPERSHIFT, O, exec, $app_launcher office # ( Office )
bind = SUPER, E,exec, $app_launcher dolphin # ( File explorer )
bind = SUPER, RETURN, exec, kitty # ( Kitty Terminal )
bind = SUPERALT, RETURN, exec, kitty --class=center-float-large # ( Kitty Terminal )
bind = SUPERSHIFT, RETURN, exec, $app_launcher kitty # ( Kitty Terminal )
bind = SUPER, BACKSPACE, exec, $app_launcher nvim # ( Neovim )
bind = SUPERSHIFT, BACKSPACE, exec, $app_launcher vscode # ( Visual studio code )

# Launchers
bind = SUPER, 65, exec, pkill -x rofi || $scripts/rofilaunch.sh d # Super+Space  Launch desktop applications
bind = SUPER, TAB, exec, pkill -x rofi || $scripts/rofilaunch.sh w # switch between desktop applications
bind = SUPER, R, exec, pkill -x rofi || $scripts/rofilaunch.sh f # browse system files
bind = SUPERCTRL, TAB, exec, pkill -x rofi || $scripts/quickapps.sh firefox code dolphin gitkraken spotify # quickapps
#bind = SUPER, 23, exec, $launcher # Tab
#bind = SUPER, 65, exec, $launcher # SPACE

# Screenshots
bind = SUPER, code:107, exec, ~/.config/rofi/applets/bin/screenshot.sh # PrintScreen
bind = SUPER, INSERT, exec, $scripts/color_picker # Color Picker

# Wallpapers
bind = SUPERSHIFT, W, exec, $scripts/swwwallselect.sh # select wallpaper
bind = SUPERCTRL, W, exec, $scripts/swwwallrandom.sh # random wallpaper
bind = SUPERALT, right, exec, $scripts/swwwallpaper.sh -n # next wallpaper
bind = SUPERALT, left, exec, $scripts/swwwallpaper.sh -p # previous wallpaper

# TODO
bind = $mainMod SHIFT, D, exec, $scrPath/wallbashtoggle.sh  # toggle wallbash on/off
bind = $mainMod SHIFT, T, exec, pkill -x rofi || $scrPath/themeselect.sh # theme select menu
bind = $mainMod SHIFT, A, exec, pkill -x rofi || $scrPath/rofiselect.sh # rofi style select menu
bind = $mainMod SHIFT, W, exec, pkill -x rofi || $scrPath/swwwallselect.sh # rofi wall select menu
bind = $mainMod, V, exec, pkill -x rofi || $scrPath/cliphist.sh c  # open Pasteboard in screen center
bind = $mainMod, K, exec, $scrPath/keyboardswitch.sh # change keyboard layou


# Bindings
bind = SUPER, 61, exec, $scripts/keybinds_hint.sh # view bindings

# Recording
bind = SUPERSHIFT, R, exec, $scripts/rofi/recording # Record

# Games
bind = SUPERSHIFT, G, exec, $scripts/rofi/game_launcher # Game launcher

# Scratchpads
bind = SUPERSHIFT, V, exec, pypr toggle volume # Toggle volume
bind = SUPER, 51, exec, pypr toggle terminal && hyprctl dispatch bringactivetotop # Toggle terminal
bind = SUPER, B, exec, pypr toggle btop && hyprctl dispatch bringactivetotop # Toggle btop
bind = SUPERSHIFT, I, exec, pypr toggle gpt && hyprctl dispatch bringactivetotop # Toggle gpt
bind = SUPERSHIFT, B, exec, pypr toggle bluetooth && hyprctl dispatch bringactivetotop # Toggle bluetooth
bind = SUPERSHIFT, E, exec, pypr toggle yazi && hyprctl dispatch bringactivetotop # Toggle yazi
bind = SUPER, D, exec, pypr toggle dots && hyprctl dispatch bringactivetotop # Toggle dots

# Screenshotting
bind = SHIFT, code:107, exec, $hyprshot -F -m output -o ~/Pictures/Screenshots -f Screenshots_$(date +'%Y-%m-%d-%s').png # Screenshot
bind = SUPERSHIFT, code:107, exec, $hyprshot -F -m window -o ~/Pictures/Screenshots -f Screenshot_$(date +'%Y-%m-%d-%s').png # Screenshot window
bind = CTRL, code:107, exec, $hyprshot -F -m region -o ~/Pictures/Screenshots -f Screenshots_$(date +'%Y-%m-%d-%s').png # Screenshot region
bind = ALT, code:107, exec, $scripts/rofi/screenshots_selection # Screenshot selection

# Clipboard
bind = SUPER, V, exec, $scripts/cliphist.sh c # Pasteboard
#bind = SUPER, Y, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Logout menu
bind = SUPER, ESCAPE, exec, $scripts/logoutlaunch.sh 2 # logout menu

## Windows
## Focusing on windows
bind = SUPERALT, LEFT, movefocus, l
bind = SUPERALT, RIGHT, movefocus, r
bind = SUPERALT, UP, movefocus, u
bind = SUPERALT, DOWN, movefocus, d
# Vim-keybinds
bind = SUPERALT, H, movefocus, l
bind = SUPERALT, L, movefocus, r
bind = SUPERALT, K, movefocus, u
bind = SUPERALT, J, movefocus, d

## Corner moving windows
bind = SUPERSHIFT, LEFT, movewindow, l
bind = SUPERSHIFT, RIGHT, movewindow, r
bind = SUPERSHIFT, UP, movewindow, u
bind = SUPERSHIFT, DOWN, movewindow, d
# Vim-keybinds
bind = SUPERSHIFT, H, movewindow, l
bind = SUPERSHIFT, L, movewindow, r
bind = SUPERSHIFT, K, movewindow, u
bind = SUPERSHIFT, J, movewindow, d

# Center and split
bind = SUPER, S, togglesplit
bind = SUPER, C, exec, hyprctl dispatch centerwindow 1

## Workspaces
# Focusing other workspaces
bind = SUPER, code:10, exec, $hyprsome --focus --workspace 1 # focus workspace 1
bind = SUPER, code:11, exec, $hyprsome --focus --workspace 2 # focus workspace 2
bind = SUPER, code:12, exec, $hyprsome --focus --workspace 3 # focus workspace 3
bind = SUPER, code:13, exec, $hyprsome --focus --workspace 4 # focus workspace 4
bind = SUPER, code:14, exec, $hyprsome --focus --workspace 5 # focus workspace 5
bind = SUPER, code:15, exec, $hyprsome --focus --workspace 6 # focus workspace 6
bind = SUPER, code:16, exec, $hyprsome --focus --workspace 7 # focus workspace 7
bind = SUPER, code:17, exec, $hyprsome --focus --workspace 8 # focus workspace 8
bind = SUPER, code:18, exec, $hyprsome --focus --workspace 9 # focus workspace 9
bind = SUPER, code:19, exec, $hyprsome --focus --workspace 10 # focus workspace 10

# Moving windows to other workspaces
bind = SUPERSHIFT, code:10, exec, $hyprsome --window --workspace 1
bind = SUPERSHIFT, code:11, exec, $hyprsome --window --workspace 2
bind = SUPERSHIFT, code:12, exec, $hyprsome --window --workspace 3
bind = SUPERSHIFT, code:13, exec, $hyprsome --window --workspace 4
bind = SUPERSHIFT, code:14, exec, $hyprsome --window --workspace 5
bind = SUPERSHIFT, code:15, exec, $hyprsome --window --workspace 6
bind = SUPERSHIFT, code:16, exec, $hyprsome --window --workspace 7
bind = SUPERSHIFT, code:17, exec, $hyprsome --window --workspace 8
bind = SUPERSHIFT, code:18, exec, $hyprsome --window --workspace 9
bind = SUPERSHIFT, code:19, exec, $hyprsome --window --workspace 10

# Moving windows to other workspaces (silent)
bind = SUPERALT, code:10, exec, $hyprsome --silent --workspace 1
bind = SUPERALT, code:11, exec, $hyprsome --silent --workspace 2
bind = SUPERALT, code:12, exec, $hyprsome --silent --workspace 3
bind = SUPERALT, code:13, exec, $hyprsome --silent --workspace 4
bind = SUPERALT, code:14, exec, $hyprsome --silent --workspace 5
bind = SUPERALT, code:15, exec, $hyprsome --silent --workspace 6
bind = SUPERALT, code:16, exec, $hyprsome --silent --workspace 7
bind = SUPERALT, code:17, exec, $hyprsome --silent --workspace 8
bind = SUPERALT, code:18, exec, $hyprsome --silent --workspace 9
bind = SUPERALT, code:19, exec, $hyprsome --silent --workspace 10

# Moving window to default rule
# bind = SUPER, code:49, exec, $move_by_rules # ²
bind = SUPER, code:49, exec, $hyprsome --window --rule # ²
bind = SUPERSHIFT, code:49, exec, $hyprsome --window --rule --screen cur # ²

# # Moving to next/prev wokspace with mouse/keyboard control
# bind = SUPER, LEFT, exec, hyprctl dispatch movetoworkspace r-1
# bind = SUPER, RIGHT, exec, hyprctl dispatch movetoworkspace r+1
# bind = SUPER, mouse_down, exec, hyprctl dispatch movetoworkspace r-1
# bind = SUPER, mouse_up, exec, hyprctl dispatch movetoworkspace r+1

# # Moving to next/prev screen with mouse/keyboard control
# bind = SUPERCTRL, LEFT, exec, hyprctl dispatch movewindow mon:-1
# bind = SUPERCTRL, RIGHT, exec, hyprctl dispatch movewindow mon:+1
# bind = SUPERCTRL, mouse_down, exec, hyprctl dispatch movewindow mon:-1
# bind = SUPERCTRL, mouse_up, exec, hyprctl dispatch movewindow mon:+1

# Moving to next/prev wokspace with mouse/keyboard control
bind = SUPER, LEFT, exec, $hyprsome --window --workspace -1
bind = SUPER, RIGHT, exec, $hyprsome --window --workspace +1
bind = SUPER, mouse_down, exec, $hyprsome --window --workspace -1
bind = SUPER, mouse_up, exec, $hyprsome --window --workspace +1

# Moving to next/prev screen with mouse/keyboard control
bind = SUPERCTRL, LEFT, exec, $hyprsome --window --screen -1
bind = SUPERCTRL, RIGHT, exec, $hyprsome --window --screen +1
bind = SUPERCTRL, mouse_down, exec, $hyprsome --window --screen -1
bind = SUPERCTRL, mouse_up, exec, $hyprsome --window --screen +1

# Moving to other wokspace with keyboard
# bind = SUPERCTRL, LEFT, workspace,m-1
# bind = SUPERCTRL, RIGHT, workspace,m+1

# bind = SUPERCTRL, H, workspace,m-1
# bind = SUPERCTRL, L, workspace,m+1

# Group control
bind = SUPER, G, togglegroup
bind = SUPERSHIFT, TAB, changegroupactive

# Submap for resizing windows
bind = SUPER, R, submap, resize
submap = resize

binde = , RIGHT, resizeactive, 40 0
binde = , LEFT, resizeactive, -40 0
binde = , UP, resizeactive, 0 -40
binde = , DOWN, resizeactive, 0 40

binde = , L, resizeactive, 40 0
binde = , H, resizeactive, -40 0
binde = , K, resizeactive, 0 -40
binde = , J, resizeactive, 0 40

bind = , ESCAPE, submap, reset

submap = reset

## Audio
bind = SUPERCTRL, V, exec, restartAudio # Restart audio

bindl = SUPERCTRL, mouse:280, exec, swayosd-client --output-volume mute-toggle # Extra Up Button
bindl = , XF86AudioMute, exec, swayosd-client --output-volume mute-toggle # Toggle mute
bindl = SUPERCTRL, mouse:281, exec, swayosd-client --input-volume mute-toggle # Extra Down Button
bindl = , XF86AudioMicMute, exec, exec swayosd-client --input-volume mute-toggle # Toggle mic

bindl = , XF86AudioPlay, exec, playerctl play-pause # Toggle play
bindl = SUPERCTRL, mouse:282, exec, playerctl play-pause # Mouse toggle play
bindl = , XF86AudioPrev, exec, playerctl previous # Play previous
bindl = SUPERCTRL, mouse:275, exec, playerctl previous # Mouse play previous
bindl = , XF86AudioNext, exec, playerctl next # Play next
bindl = SUPERCTRL, mouse:276, exec, playerctl next # Mouse play next

bindle = , XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindle = SUPERCTRL, 21, exec, swayosd-client --output-volume raise # Minus key
bindle = , XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindle = SUPERCTRL, 20, exec, swayosd-client --output-volume lower # Plus key

bindle = , XF86InputRaiseVolume, exec, swayosd-client --input-volume raise
bindle = SUPERSHIFT, 21, exec, swayosd-client --input-volume raise # Minus key
bindle = , XF86InputLowerVolume, exec, swayosd-client --input-volume lower
bindle = SUPERSHIFT, 20, exec, swayosd-client --input-volume lower # Plus key

# Disable anim, blur, etc
bind = SUPER, F12, exec, $scripts/performance

# Open Wiki
bind = SUPER, F1, exec, xdg-open https://wiki.hyprland.org/
bind = SUPERSHIFT, F1, exec, xdg-open https://github.com/Matt-FTW/dotfiles/wiki

# Freeze active window
bind = SUPERSHIFT, ESCAPE, exec, $scripts/hyprfreeze
